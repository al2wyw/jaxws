<!DOCTYPE html>
<html>
<head>
<style>
body,div,p{
	border:none;
	margin:0px;
	padding:0px;
}
div{
	border: 1px solid red;
	background-color:rgba(0,255,0,0.3);
}
.container{
	margin:auto;
	width:500px;
}
.first{
	font-size:16px;
	line-height:20px;
	margin-bottom:20px;
	padding-left:20px;
}
.second{
	width:inherit;
	font-size:16px;
	line-height:20px;
}
.line-container{
	border:none;
	margin: 0px 20px;
}
.line{
	border-width: 1px 0px 0px 0px;
	border-style:solid;
	border-color:rgb(255,200,100);
}
.margin_test{
	margin: 10px 10px 10px 10px; 
	border: 10px solid black;
}
</style>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script>
	$(function(){
		var height=$("#margin").height();
		console.log(height);
		}
	);
</script>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<div class="container">
<div class="first">
<p>test test test test test test test test test test test test test test test test test test test test</p>
 <div class="line-container">
<div class="line">
</div>
<!-- <hr/>-->
</div>

<p>test</p>
<div class="first-inner">
test
</div>
</div>
<div class="second">
<p>test</p>
</div>
</div>
<!-- two sibling will collapse the margin, no border parent will make the margin(no effect) of first child outside the parent -->
<div id="margin" style="border: 1px solid transparent;"><!-- use border to include the margin of first child, the first two property should be set as 1px solid  -->
<div class="margin_test">
test
</div>
<div class="margin_test">
test
</div>
</div>
</body>
</html>