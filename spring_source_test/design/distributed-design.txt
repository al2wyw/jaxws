唯一key生成


幂等
-- 超时重试
-- 并发调用
方案:
1. MVVC(或唯一索引) 防止并发更新
2. 有限状态机 防止相同状态重复更新
3. 服务器端token申请，再用token来访问，支付领域常用
4. 请求带唯一的request id，request id落库判重， 如果新启一张表存在事务问题

异常重试
-- 异常识别
-- 稳定性

逆向
-- 事务回滚

数据一致性
-- 本地重试
-- TXC 二阶段提交
-- 事务消息
-- 逆向接口

系统稳定性
-- 降级
-- 超时熔断
-- 流量控制