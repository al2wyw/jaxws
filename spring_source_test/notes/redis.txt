故障检测:
集群中的节点会定期向其他的节点发送ping消息，如果接收方在规定时间内没有返回pong消息，则会被标记为pfail，集群中的节点通过ping/pong来交换节点状态
如果集群里超过半数的主节点都把某个主节点标记为pfail，则会被标记为fail，把此主节点标记为fail的主节点会广播fail消息
故障转移:

新主机选举:(raft的领头选举)

集群消息:
1. meet: 接收到meet消息的节点会加入发送节点的集群
2. ping: 从节点中随机选取5个节点，并向最长没有发送ping的节点发送一个ping消息，同时也会给超过cluster-node-timeout时间一半的没有发送ping的节点发送ping消息
3. pong: 响应meet和ping消息，或者在故障转移后广播pong消息
4. fail: 当一个主节点判断另一个主节点fail时，广播fail消息，接收到消息的节点把相应节点标记为fail
5. publish: 当节点接收到publish命令时会执行这个命令同时广播一条publish消息，接收到消息的节点也会执行这条publish命令
1,2,3为gossip协议

ping/pong实现: 从已知节点随机选取两个节点信息，发送ping消息给接收方:
1. 如果两个节点是未知节点，接收方根据gossip消息的内容进行握手
2. 如果两个节点是已知节点，接收方根据gossip消息的内容更新自己的cluster node信息
接收方从已知节点随机选取两个节点信息返回pong消息给发送方

fail实现: gossip消息太慢，直接向所有节点广播fail消息，fail消息只需要携带fail的节点标识
